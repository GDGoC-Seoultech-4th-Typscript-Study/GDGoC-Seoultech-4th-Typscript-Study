# 타입스크립트 2장 13~18

## Type vs Interface

타입스크립트에서 타입은 type 또는 interface를 사용해서 정의한다.

대부분의 경우에 두 방법을 사용해도 괜찮지만, 타입과 인터페이스의 차이를 분명하게 알고, 일관성을 유지하는 것이 좋다.

- 명명된 타입에서는 인터페이스와 타입에서 상태 차이가 없다
- 인덱스 시그니처는 인터페이스와 타입에서 모두 사용할 수 있다.
- 두 방법 모두 제너릭이 가능하다.
- 각각 서로를 확장할 수 있다.
- 인터페이스는 유니온 타입과 같은 복잡한 타입을 확장하지 못한다.

## 타입 연산과 제너릭 사용하기

**DRY(don’t repeat yourself) 원칙**

타입과 인터페이스에도 DRY 원칙 지키기

- 상수를 사용해서 반복을 줄이는 기법을 동일하게 타입 시스템에 적용하기
- 한 인터페이스가 다른 인터페이스를 확장하게 해서 반복 제거하기

제너릭을 활용하여 중복 코드 없애기

## 동적 데이터에 인덱스 시그니처 사용하기

내가 정의한 타입이 동적인 객체에 적용된다면 인덱스 시그니처를 명시하여 유연하게 매핑할 수 있다.

형식은 [key: type]: type과 같다.

타입스크립트를 활용하는 의미가 사라지는 느낌이기 때문에 런타임 때까지 객체의 속성을 알 수 없을 경우에만 사용하는 것이 좋다.

가능하다면 정확한 타입을 사용하자!

## Array, 튜플, ArrayLike

자바스크립트에서 배열은 객체이고, 따라서 배열의 키는 문자열이다. 인덱스 시그니처에 number를 사용하는 것보다 Array, 튜플, ArrayLike 타입을 사용하는 것이 좋다.

## readonly 사용하기

잘못 설계한 코드에서는 개발자의 의도대로 동작하지 않는 경우도 있기 때문에, 매개변수를 수정하지 않을 경우 readonly로 선언하여 실수를 방지할 수 있다.

readonly는 얕게 동작하기 때문에 주의할 필요가 있다.

## 매핑된 타입으로 동기화하기

데이터를 순회할 때, 실패에 닫힌 방법과 실패에 열린 방법이 있다.

이 둘은 각각 리소스가 많이 든다는 점과, 실패할 가능성이 있다는 점에서 단점이 있다.

타입스크립트에서는 타입 체커를 위한 객체를 활용해서 이 둘의 장점만 모아서 활용할 수 있다.