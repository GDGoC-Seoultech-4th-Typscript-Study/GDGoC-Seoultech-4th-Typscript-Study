# 이펙티브 타입스크립트 1장

## 타입스크립트 알아보기

1장에서는 타입스크립트의 전반적인 개념과 자바스크립트와의 관계, 주요 설정 등에 대해 다룬다. 타입스크립트가 어떻게 작동하는지, 정적 타입 시스템의 특성을 이해하는 것이 중요하다.

---

## 타입스크립트와 자바스크립트의 관계

### "타입스크립트는 자바스크립트의 상위 집합이다."

-   **호환성**
    타입스크립트는 문법적으로 자바스크립트와 완전히 호환된다. 이는 기존 자바스크립트 코드가 타입스크립트 코드로 사용될 수 있음을 의미한다. 그러나 타입스크립트 코드가 자바스크립트 코드로 사용될 수 있는 것은 아니다.
    ![js-ts-relations](./img/정윤석-1.png)

-   **확장자**
    자바스크립트는 `.js` 또는 `.jsx` 확장자를 사용하고, 타입스크립트는 `.ts` 또는 `.tsx` 확장자를 사용한다. 자바스크립트 코드는 타입스크립트 코드로 호환성 덕분에 .ts로 변경해도 문제가 발생하지 않는다.

-   **마이그레이션**
    이러한 특성은 자바스크립트 코드를 타입스크립트로 점진적으로 변환하는 데 큰 도움이 된다. 일부 코드에만 타입을 추가하면서 안정성을 높일 수 있다.

-   **정적 타입 시스템**
    타입스크립트는 정적 타입 시스템을 통해 컴파일 타임에 오류를 감지하고, 런타임 오류를 줄인다. 이를 통해 코드의 안정성을 높이고, 디버깅 시간을 줄일 수 있다.

---

## 타입스크립트 설정 (`tsconfig.json`)

`tsconfig.json` 파일은 타입스크립트 프로젝트의 설정 파일이다. 이 파일을 통해 타입스크립트 컴파일러의 동작을 제어할 수 있다.

-   **설정 파일 생성**
    `$ tsc --init` 명령어를 사용하여 프로젝트 루트에 tsconfig.json 파일을 생성할 수 있다.
    이 파일에 필요한 설정 옵션을 추가하여 타입스크립트의 동작을 제어할 수 있다.

-   **주요 설정 옵션**
    -   `noImplicitAny`: 암시적인 any 타입을 금지하여 명시적인 타입 선언을 하도록한다.
    -   `strictNullChecks`: null과 undefined를 구분하여 사용한다.
    -   `stric`: 모든 strict 관련 설정을 활성화한다.

이 외에도 다양한 설정 옵션이 있지만, 위 세 가지는 특히 코드의 안정성을 높이는 데 유용한 옵션디ㅏ.

---

## 코드 생성과 타입의 관계

타입스크립트 코드는 컴파일 단계에서 모든 타입 정보가 제거되고 순수한 자바스크립트 코드로 변환된다.

-   **타입 정보**
    런타임에서는 타입 정보가 사라지기 때문에, 타입 정보로 객체를 구분하는 등의 활용은 불가능하다.
    타입스크립트의 타입 시스템은 컴파일 타임에서만 작동하며, 개발 중 안정성 확보를 위한 용도로만 사용된다.

-   **트랜스파일(transpile)?**
    트랜스파일링은 고수준 언어를 다른 고수준 언어로 변환하는 과정이다. 타입스크립트는 트랜스파일링을 통해 자바스크립트로 변환된다.

---

## 구조적 타이핑

타입스크립트는 구조적 타이핑을 사용한다. 구조적 타이핑은 객체의 구조에 따라 타입을 결정하는 방식이다.

-   **덕 타이핑(duck typing)**

    -   `만약 어떤 새가 오리처럼 걷고, 오리처럼 꽥꽥거리면, 그 새를 오리라고 부르겠다. (The Duck Test)`
    -   Duck Test의 개념을 기반으로, 객체의 타입을 객체의 변수와 메서드의 집합으로 결정하는 방식이다. 이것은 객체의 타입을 명시적으로 선언하지 않아도 되는 장점을 가지고 있다.
    -   자바스크립트는 덕 타이핑을 기반으로 동작하는 동적 타입 언어이다. 이러한 특성은 타입스크립트에서도 그대로 유지되며, 구조적 타이핑이라는 개념으로 확장된다.

-   **구조적 타이핑(structural typing)**:
    -   구조적 타이핑은 덕 타이핑의 개념을 확장한 것으로, 객체의 타입을 객체의 구조로 결정하는 방식을 말한다.
    -   객체의 구조가 동일하다면, 동일한 타입으로 간주된다. 이러한 방식으로 타입스크립트는 타입 호환성을 높인다.

---

## any 타입

자바스크립트 코드를 점진적이고 선택적으로 타입스크립트로 마이그레이션 할 수 있는 핵심 요소 중 하나는 `any` 타입이다.

하지만 `any` 타입의 남용은 타입스크립트의 장점을 활용하지 못하게 하므로, 가능하면 이를 지양하고 타입을 명시적으로 선언하는 것이 좋다.

-   **`any`타입 사용의 위험성**
    `any`타입을 사용하면 타입스크립트의 타입 검사가 무력화되며, 이는 디버깅을 어렵게 만든다. 또, IDE의 자동완성 및 타입 정보 제공 기능을 사용할 수 없게 된다.

타입스크립트의 장점을 활용하기 위해서는, `any` 타입을 최대한 지양하고 타입을 명시적으로 선언하는 것이 좋다.
