# 1장 타입스크립트 알아보기

## 아이템 1 타입스크립트와 자바스크립트의 관계 이해하기

<aside>
💡

타입스크립트는 자바스크립트의 상위 집합(superset)이다.

</aside>

- .js 파일에 있는 코드는 이미 타입스크립트라고 할 수 있다.
- main.js 파일명을 main.ts라고 바꾼다고 해도 달라지는 것은 없다.
  - 자바스크립트 코드를 타입스크립트로 마이그레이션하는 데 이점이 있다.
- 자바스크립트 프로그램이 타입스크립트라는 명제는 참이지만, 그 반대는 성립하지 않습니다.
  - 이는 타입스크립트가 타입을 명시하는 추가적인 문법을 가지기 때문.

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/8e2df0eb-1ad3-4acb-a162-511b7b9230ed/8cb4e985-0f53-4f43-8038-38c877d75f7c/image.png)

<aside>
💡

타입스크립트의 목표는 런타임 오류를 발생시키는 코드를 미리 찾아내는 것이다.

</aside>

- 타입 체커는 추가적인 타입 구문 없이도 오류를 찾아낸다.
- 타입 체커를 통과하면서도 런타임 오류를 발생시키는 코드가 있을 수 있다.

## 아이템 2 타입스크립트 설정 이해하기

- 설정 파일 생성

<aside>
<img src="/icons/code_gray.svg" alt="/icons/code_gray.svg" width="40px" />

tsc —init

</aside>

### 설정 사용 방법

- tsconfig.json 파일 사용

> noImplicitAny

변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어한다.

타입스크립트는 타입 정보를 가질 때 가장 효과적이기 때문에 되도록이면 noImplicity를 설정해야 한다.

자바스크립트를 타입스크립트로 전환하는 것이 아니면 noImplicityAny를 설정하는 것이 좋다.

> strictNullChecks

null과 undefined가 모든 타입에서 허용되는지 확인한다.

strictNullChecks을 설정하면 null/undefined로 할당한 구문은 오류가 된다.

만약 null을 허용하려면 의도를 명시적으로 드러냄으로서 오류를 해결한다.

strictNullChecks를 설정하면 코드 작성이 어려울 수 있지만, null과 undefined 관련 런타임 오류를 예방하는 데 도움이 된다.

_“undefined는 객체가 아닙니다”와 같은 오류_

## 아이템 3 코드 생성과 타입은 관계없음

### 타입스크립트 컴파일러의 두 가지 역할

- 최신 타입/자바스크립트를 브라우저에서 동작할 수 있도록 구버전의 자바스크립트로 트랜스파일한다.
- 코드의 타입 오류를 체크한다.

→ 이 두 가지는 독립적이다, 즉 타입스크립트가 자바스크립트로 변환될 때 코드 내의 타입에는 영향을 주지 않는다. 자바스크립트 실행 시점에도 타입은 영향을 미치지 않는다.

<aside>
💡

타입 오류가 있는 코드도 컴파일이 가능하다.

</aside>

> 컴파일과 타입 체크

코드에 오류가 있다 - X

타입 체크에 문제가 있다 - O

> **런타임에는 타입 체크가 불가능하다.**

자바스크립트로 컴파일되는 과정에서 모든 인터페이스, 타입, 타입구문은 제거된다.

- 타입 정보를 유지하는 방법
  - 해당 속성이 존재하는지 체크하기
  - 런타임에 접근 가능한 타입정보를 명시적으로 저장하는 ‘태그’기법 사용.
- 타입과 값을 둘 다 사용하는 방법
  - 타입을 클래스로 만들기

> **타입 연산은 런타임에 영향을 주지 않는다.**

값을 정제하기 위해서 런타임의 타입을 체크해야 하고, 자바스크립트 연산을 통해 변환을 수행해야 한다.

> **타입스크립트 타입으로는 함수를 오버로드할 수 없다.**

타입스크립트에서는 타입과 런타임 동작이 무관하므로 함수 오버로딩이 불가능하다.

> **타입스크립트 타입은 런타임 성능에 영향을 주지 않는다.**

타입과 타입 연산자는 자바스크립트 변환 시점에 제거되기 때문에 런타임 성능에 영향 X

## 아이템 4 구조적 타이핑에 익숙해지기

어떤 함수의 매개변수 값이 모두 제대로 주어지면, 그 값이 어떻게 만들어졌는지 신경쓰지 않고 사용한다.

매개변수 값이 요구사항을 만족하면 타입을 신경쓰지 않는다.

- 자바스크립트는 덕 타이핑 기반이고, 타입스크립트는 이를 모델링 하기위해 구조적 타이핑을 사용해야 한다.
- 클래스가 구조적 타이핑 방식을 따른다.

## 아이템 5 any 타입 지양하기

any 타입은 코드에 타입을 점진적으로 추가할 수 있고, 언제든지 타입 체커를 해제할 수 있다.

- number 타입에 string 타입을 추가할 수 있고 선언에 따라 타입이 달라지므로 혼돈을 야기한다.
- 함수의 약속된 타입의 출력을 반환하지 못해서 문제가 발생.
- any 타입은 자동완성 기능과 도움말을 제공받지 못한다.
- 코드 리팩토링 때 버그를 감춘다
- 객체 설계를 감춰버리기 때문에 명료한 코드 작성이 어렵다.
- any 타입을 쓰지 않으면 런타임에 발견될 오류를 예방하고 신뢰도를 높일 수 있다.
